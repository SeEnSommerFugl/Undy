<UserControl x:Class="Undy.Views.TestReturnOrderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             MaxWidth="1920" MaxHeight="1080"
             Background="White">

    <Border Style="{DynamicResource Card}">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Title -->
            <TextBlock Text="Retur Portal"
                   Style="{DynamicResource H2}"/>

            <!-- Subtitle -->
            <TextBlock Grid.Row="1"
               Text="Dette View er udelukkende for at simulere en kunde som opretter en returordre"
                   Style="{DynamicResource H3}"
                   Foreground="Red"
                   HorizontalAlignment="Center"/>

            <!-- Fields -->
            <Grid Grid.Row="2"
      Margin="0,30"
      HorizontalAlignment="Center">

                <!-- 2 kolonner: labels + inputs -->
                <Grid.ColumnDefinitions>
                    <!-- labels -->
                    <ColumnDefinition Width="Auto"/>
                    <!-- afstand -->
                    <ColumnDefinition Width="20"/>
                    <!-- inputs -->
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- 3 rækker: én pr. felt -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                    <RowDefinition Height="50"/>
                </Grid.RowDefinitions>

                <!-- Ordre Nummer -->
                <TextBlock Grid.Row="0" Grid.Column="0"
               Text="Ordre Nummer"
               Style="{DynamicResource TitleLeft}"/>

                <TextBox Grid.Row="0" Grid.Column="2"
             Text="{Binding OrderNumber, UpdateSourceTrigger=PropertyChanged}"
             Style="{DynamicResource InputRight}"/>

                <!-- Email -->
                <TextBlock Grid.Row="1" Grid.Column="0"
               Text="Email"
               Style="{DynamicResource TitleLeft}"/>

                <TextBox Grid.Row="1" Grid.Column="2"
             Text="{Binding Email, UpdateSourceTrigger=PropertyChanged}"
             Style="{DynamicResource InputRight}"/>

                <!-- Årsag -->
                <TextBlock Grid.Row="2" Grid.Column="0"
               Text="Årsag til returnering"
               Style="{DynamicResource TitleLeft}"/>

                <TextBox Grid.Row="2" Grid.Column="2"
             Text="{Binding Reason, UpdateSourceTrigger=PropertyChanged}"
             Style="{DynamicResource InputRight}"/>
            </Grid>

            <StackPanel Margin="0,10,0,10">

                <TextBlock Text="Ordrelinjer"
               Style="{DynamicResource H3}" />

                <ListView ItemsSource="{Binding OrderLines}"
              Height="180"
              Margin="0,5,0,5">

                    <ListView.View>
                        <GridView AllowsColumnReorder="False"
                                  ColumnHeaderContainerStyle="{StaticResource GridViewColumnHeader.Locked}">

                            <GridViewColumn Header="Produkt"
                                DisplayMemberBinding="{Binding ProductName}" />

                            <GridViewColumn Header="Antal"
                                DisplayMemberBinding="{Binding Quantity}" />

                            <GridViewColumn Header="Stk. pris"
                                DisplayMemberBinding="{Binding UnitPrice, StringFormat={}{0:0.00}}" />

                            <GridViewColumn Header="Linjetotal"
                                DisplayMemberBinding="{Binding LineTotal, StringFormat={}{0:0.00}}" />

                        </GridView>
                    </ListView.View>

                </ListView>

                <TextBlock Text="{Binding OrderTotal, StringFormat=Samlet ordrebeløb: {0:0.00} kr.}"
               FontWeight="Bold"
               HorizontalAlignment="Right"
               Margin="0,5,0,0"/>

            </StackPanel>


            <!-- Button -->
            <Button Grid.Row="3"
            Content="Bekræft"
            Style="{DynamicResource ButtonBase}"
            Command="{Binding ConfirmCommand}"
            HorizontalAlignment="Center"
            Margin="0,10,0,0"/>

            <!-- Status message -->
            <TextBlock Grid.Row="4"
               Text="{Binding StatusMessage}"
               Foreground="Red"
               HorizontalAlignment="Center"
               Margin="0,30,0,0"
                   FontSize="35"
               FontWeight="Bold"/>
        </Grid>
    </Border>
</UserControl>

<!-- Undy/Undy/Features/WholesaleOrders/ArrivedOrder/IncomingView.xaml -->
<UserControl x:Class="Undy.Views.IncomingWholesaleOrderView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <Border Style="{DynamicResource Card}">
        <Grid Margin="20">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <Grid Grid.Row="1">
                <!-- COLUMNS -->
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <!-- Indkøbsordrer -->
                    <ColumnDefinition Width="250"/>
                    <!-- Spacer -->
                    <ColumnDefinition Width="*"/>
                    <!-- Varemodtagelse -->
                </Grid.ColumnDefinitions>

                <!-- ROWS -->
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <!-- Row 0: titles -->
                    <RowDefinition Height="*"/>
                    <!-- Row 1: tables -->
                    <RowDefinition Height="Auto"/>
                    <!-- Row 2: actions -->
                </Grid.RowDefinitions>

                <!-- ===================== -->
                <!-- Row 0: TITLES -->
                <!-- ===================== -->

                <TextBlock Grid.Row="0" Grid.Column="0"
               Text="Indkøbsordrer"
               Style="{DynamicResource H1}"
               HorizontalAlignment="Center"
               Margin="0,0,0,12"/>

                <TextBlock Grid.Row="0" Grid.Column="2"
               Text="Varemodtagelse"
               Style="{DynamicResource H1}"
               HorizontalAlignment="Center"
               Margin="0,0,0,12"/>

                <!-- ===================== -->
                <!-- Row 1: CONTENT -->
                <!-- ===================== -->

                <!-- LEFT: orders -->
                <ListView Grid.Row="1" Grid.Column="0"
              ItemsSource="{Binding WholesaleView}"
              SelectedItem="{Binding SelectedWholesaleOrder}"
              Style="{StaticResource ListView.Table}">
                    <ListView.View>
                        <GridView AllowsColumnReorder="False"
                      ColumnHeaderContainerStyle="{StaticResource GridViewColumnHeader.Locked}">
                            <GridViewColumn Header="Ordre #"
                                DisplayMemberBinding="{Binding DisplayWholesaleOrderNumber}"
                                Width="200"/>
                            <GridViewColumn Header="Dato"
                                DisplayMemberBinding="{Binding WholesaleOrderDate}"
                                Width="120"/>
                            <GridViewColumn Header="Status"
                                DisplayMemberBinding="{Binding OrderStatus}"
                                Width="160"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                <!-- RIGHT: lines -->
                <ListView Grid.Row="1" Grid.Column="2"
              ItemsSource="{Binding LinesView}"
              Style="{StaticResource ListView.Table}">
                    <ListView.View>
                        <GridView AllowsColumnReorder="False"
                      ColumnHeaderContainerStyle="{StaticResource GridViewColumnHeader.Locked}">

                            <GridViewColumn Header="Varenr." Width="120"
                                DisplayMemberBinding="{Binding ProductNumber}"/>

                            <GridViewColumn Header="Navn" Width="260"
                                DisplayMemberBinding="{Binding ProductName}"/>

                            <GridViewColumn Header="Bestilt" Width="80"
                                DisplayMemberBinding="{Binding Quantity}"/>

                            <GridViewColumn Header="Modtaget" Width="110">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBox Text="{Binding QuantityReceived, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}"
                                     Style="{StaticResource TextBoxBase}"
                                     FontSize="20"
                                     Padding="6,2"
                                     HorizontalContentAlignment="Center"
                                     BorderThickness="0"
                                     Background="Transparent"
                                     IsReadOnly="{Binding DataContext.IsFullyReceived,
                                                        RelativeSource={RelativeSource AncestorType=ListView}}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>

                            <GridViewColumn Header="Mangler" Width="120"
                                DisplayMemberBinding="{Binding QuantityPending}"/>
                        </GridView>
                    </ListView.View>
                </ListView>

                <!-- ===================== -->
                <!-- Row 2: ACTIONS (RIGHT ONLY) -->
                <!-- ===================== -->

                <StackPanel Grid.Row="2" Grid.Column="2"
            Orientation="Vertical"
            HorizontalAlignment="Center"
            Margin="0,12,0,0">

                    <CheckBox Content="Fuldt modtaget"
              IsChecked="{Binding IsFullyReceived, Mode=TwoWay}"
              FlowDirection="RightToLeft" Foreground="White"
              Margin="0,0,0,12">
                        <CheckBox.LayoutTransform>
                            <ScaleTransform ScaleX="2.4" ScaleY="2.4"/>
                        </CheckBox.LayoutTransform>
                    </CheckBox>

                    <Button Content="Bekræft modtagelse"
            Command="{Binding ConfirmOrderCommand}"
            Style="{DynamicResource ButtonBase}"
            Width="200"/>
                </StackPanel>

            </Grid>

        </Grid>
    </Border>
</UserControl>
